var socket=io();window.onload=function(){"use strict";function e(e){for(var o=0;o<m.length;o++)m[o].style.display="none";m[e].style.display="block"}var o,n={space:32,enter:13},t=-1,m=document.querySelectorAll(".frame-block"),a={home:0,host:1,join:2,dc:3,game:4},c={frameHomeHost:document.getElementById("frameHomeHost"),frameHomeJoin:document.getElementById("frameHomeJoin"),frameJoinEnter:document.getElementById("frameJoinEnter"),frameDcGoHome:document.getElementById("frameDcGoHome")};c.frameHomeHost.onclick=function(){var o=randomCode(8,"#aA");document.getElementById("frameHostCode").innerHTML=o,socket.emit("joinRoom",o),e(a.host)},c.frameHomeJoin.onclick=function(){e(a.join)},c.frameJoinEnter.onclick=function(){var e=document.getElementById("frameJoinCode").value;return 0==e.length?void alert("Please enter code"):void socket.emit("joinRoom",e)},socket.on("roomReady",function(){e(a.game)}),socket.on("opponentDisconnected",function(){socket.emit("leaveRoom"),e(a.dc)}),c.frameDcGoHome.onclick=function(){e(a.home)},socket.on("gameStart",function(){var e=document.getElementById("game__message"),n=document.getElementById("game__messageShoot");o=!1;var t=10,m=setInterval(function(){t--,0===t?(e.innerHTML="",n.style.display="block",o=!o):-1===t?(clearInterval(m),n.style.display="none"):5>t&&t>0&&(e.innerHTML=t)},1e3)}),document.onkeyup=function(e){e=e||window.event,o&&e.keyCode==n.space&&(socket.emit("gameShoot",t),t++,o=!o)},socket.on("roundWinner",function(e){var o=document.getElementById("game__message");o.innerHTML=e?"You Won!":"You Lost!";var n=document.getElementById("player__top--score"),t=document.getElementById("player__bottom--score");e?(t.dataset.duelsWon++,t.innerHTML="Won "+t.dataset.duelsWon+" duels!"):(n.dataset.duelsLost++,n.innerHTML="Won "+n.dataset.duelsLost+" duels!")})};